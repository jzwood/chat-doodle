"use strict";function controller(t){var e=t.getContext("2d"),o=window.innerWidth,n=window.innerHeight,i=function(){e.fillStyle="#000000",e.fillRect(0,0,o,n),e.fillStyle="#000000"};return{init:function(){t.style.width=o,t.style.height=n,e.lineWidth=10,e.lineCap="round",i()},line:function(){e.beginPath(),e.moveTo(x1,y1),e.lineTo(x2,y2),e.closePath(),e.stroke()},clearBackground:function(){e.clearRect(0,0,o,n)},setBackgroundColor:i}}function init(){var t=document.querySelector(".canvas-wrapper__canvas");if(t.style.width=window.innerWidth,t.style.height=window.innerHeight,t.getContext){var e=e(t);e.init()}if(t.getContext){var o=t.getContext("2d");o.fillStyle="#000000",o.lineWidth=10,o.lineCap="round";var n=location.href.indexOf("/private");socket=io(n>0?"/private":"/public"),room=window.location.pathname.slice(-40),setBackgroundColor(o,t,"#000000"),socket.emit("init",room),socket.on("linePositionData",function(t){line(t.x,t.y,t.tx,t.ty)}),socket.on("clear",function(){clearBackground(o,t)})}}function draw(){if(114===p.keyCode&&(p.background(bgcolor),socket.emit("clear",room)),p.touchIsDown||p.mouseIsPressed){var t=p.touchIsDown?[p.touchX,p.touchY]:[p.mouseX,p.mouseY],e=_slicedToArray(t,2),o=e[0],n=e[1];x>0&&y>0&&(p.line(x,y,o,n),socket.emit("pushData",room,{x:x,y:y,tx:o,ty:n})),x=o,y=n}else x=0,y=0}var _slicedToArray=function(){function t(t,e){var o=[],n=!0,i=!1,r=void 0;try{for(var c,a=t[Symbol.iterator]();!(n=(c=a.next()).done)&&(o.push(c.value),!e||o.length!==e);n=!0);}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return o}return function(e,o){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),io,socket,p5App=new window.p5(function(t){var e=void 0,o=0,n=0;t.setup=function(){var o=t.createCanvas(t.windowWidth,t.windowHeight);o.parent("wrapper__canvas"),o.class("wrapper__canvas__p5"),document.querySelector(".nav--fixed").style.width=t.windowWidth+"px",t.strokeWeight(10);var n=location.href.indexOf("/private");socket=io(n>0?"/private":"/public"),e=window.location.pathname.slice(-40),socket.emit("init",e),socket.on("linePositionData",function(e){t.line(e.x,e.y,e.tx,e.ty)}),socket.on("clear",function(){t.background(256)})},t.draw=function(){if(114===t.keyCode&&(t.background(256),socket.emit("clear",e)),t.touchIsDown||t.mouseIsPressed){var i=t.touchIsDown?[t.touchX,t.touchY]:[t.mouseX,t.mouseY],r=_slicedToArray(i,2),c=r[0],a=r[1];o>0&&n>0&&(t.line(o,n,c,a),socket.emit("pushData",e,{x:o,y:n,tx:c,ty:a})),o=c,n=a}else o=0,n=0}}),io,socket,room=void 0,x=0,y=0,epsilon=.01,bgcolor=256;